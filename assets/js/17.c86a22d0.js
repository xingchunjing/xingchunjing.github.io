(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{288:function(a,s,t){"use strict";t.r(s);var e=t(14),r=Object(e.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h2",{attrs:{id:"linux命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#linux命令"}},[a._v("#")]),a._v(" linux命令")]),a._v(" "),s("h3",{attrs:{id:"根据pid查看进程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#根据pid查看进程"}},[a._v("#")]),a._v(" 根据pid查看进程")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#ps查询")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("ps")]),a._v(" -aux"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("grep")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("grep")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("grep")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("3651")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#查找进程目录")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" /proc/pid\ncwd "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" 进程目录\n")])])]),s("h3",{attrs:{id:"top命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#top命令"}},[a._v("#")]),a._v(" top命令")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#按进程的CPU使用率排序")]),a._v("\n运行top命令后，键入大写P\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#按进程的内存使用率排序")]),a._v("\n运行top命令后，键入大写M\n")])])]),s("h3",{attrs:{id:"查看线程详情"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看线程详情"}},[a._v("#")]),a._v(" 查看线程详情")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#查看详情")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("ps")]),a._v(" p pid "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-L")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-o")]),a._v(" pcpu,pmem,pid,tid,time,tname,cmd\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#查看数量")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("ps")]),a._v(" p pid "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-L")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-o")]),a._v(" pcpu,pmem,pid,tid,time,tname,cmd"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("wc")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-l")]),a._v("\n")])])]),s("h3",{attrs:{id:"导出堆栈信息"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#导出堆栈信息"}},[a._v("#")]),a._v(" 导出堆栈信息")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#导出到当前目录")]),a._v("\njstack "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-l")]),a._v(" pid "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" ./jstack.log\n")])])]),s("h2",{attrs:{id:"查看大文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看大文件"}},[a._v("#")]),a._v(" 查看大文件")]),a._v(" "),s("h3",{attrs:{id:"ls"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ls"}},[a._v("#")]),a._v(" ls")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#最简单的方法就是借助 ls 命令，因为 ls 命令本身输出是带文件大小信息的。")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#比如，我要列出 /jj/log/ 目录中的20个最大文件，可以：")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("ls")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-lSh")]),a._v(" /jj/log/ "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("head")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-20")]),a._v("\n")])])]),s("h3",{attrs:{id:"find"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#find"}},[a._v("#")]),a._v(" find")]),a._v(" "),s("p",[a._v("find 本身就是查找命令，可以递归查找一个目录的子目录，所以用它是自然的。")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#比如，查找/etc目录下最大的5个文件：")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("find")]),a._v(" /etc "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-type")]),a._v(" f "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-printf")]),a._v(" “%s"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("t%p"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("n” "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sort")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-n")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("tail")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-5")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("xargs")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("ls")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-Slh")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#查找当前用户名下最大的10个文件")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("find")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("$HOME")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-type")]),a._v(" f "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-printf")]),a._v(" “%s"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("t%p"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("n” "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sort")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-nr")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("head")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-10")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("xargs")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("ls")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-Slh")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#查询大于200M的文件")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("find")]),a._v(" / "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-type")]),a._v(" f "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-size")]),a._v(" +200M "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("xargs")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("ls")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-Slh")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#查询100M和200M之间的文件")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("find")]),a._v(" / "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-type")]),a._v(" f "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-size")]),a._v(" +100M "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-size")]),a._v(" +200M "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("xargs")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("ls")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-Slh")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#查询root目录下最大的5个文件")]),a._v("\nind /root "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-type")]),a._v(" f "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-exec")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("ls")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-s")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sort")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-n")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("tail")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-n5")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("xargs")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("ls")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-Slh")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#查询/目录下10天以前最大的5个文件")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("find")]),a._v(" / "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-type")]),a._v(" f "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-mtime")]),a._v(" +10 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-printf")]),a._v(" “%s"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("t%p"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("n” "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sort")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-n")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("tail")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-5")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("xargs")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("ls")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-Slh")]),a._v("\n")])])]),s("h3",{attrs:{id:"du"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#du"}},[a._v("#")]),a._v(" du")]),a._v(" "),s("p",[a._v("du 命令可以查看磁盘空间的使用情况，自然也可以用来查看磁盘上占用空间较多的文件和文件夹。")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#查找/root下5个最大的文件")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("du")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-ah")]),a._v(" /root "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sort")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-nr")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("head")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-n5")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#查找当前目录下最大的5个目录")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("du")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-ah")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sort")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-nr")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("head")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-n5")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#查找根目录下最大目录/文件(包括子文件夹)")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("du")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-Sh")]),a._v(" / "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sort")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-rh")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("head")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-n10")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#只看大小在 GB 范围内的所有文件")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("du")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-ah")]),a._v(" / "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("grep")]),a._v(" “"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v("-9"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("G"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("b”\n")])])]),s("h3",{attrs:{id:"命令参数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#命令参数"}},[a._v("#")]),a._v(" 命令参数")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("find：\n-exec"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("执行指令"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("：假设find指令的回传值为True，就执行该指令；\n\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-mtime")]),a._v(" n 查找系统中最后n天被改变文件数据的文件 +大于 -小于\n\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-type")]),a._v(" 查找某一类型的文件\nb -块设备文件；\nc -字符设备文件；\nd -目录；\np -管道文件；\nf -普通文件；\nl -符号链接文件；\ns -socket文件；\n\n-printf"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("输出格式"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("：假设find指令的回传值为Ture，就将文件或目录名称列出到标准输出。格式可以自行指定；\n\nsort：\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-n")]),a._v(" 依照数值的大小排序；\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-r")]),a._v(" 以相反的顺序来排序；\n\nxargs：传递参数\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("ls")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-Slh")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-Sl")]),a._v(" 从大到小显示详情\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-Slr")]),a._v(" 从小到大显示详情\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-h")]),a._v(" humans 以人类易读的方式显示（正常情况下显示为bit，加上-h后 显示的为KB MB GB TB等）\n\ndu：\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-a")]),a._v(" 显示所有目录或文件的大小\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-h")]),a._v(" 以K,M,G为单位，提高信息可读性\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-S")]),a._v(" 显示目录的大小，但不含子目录大小\n")])])])])}),[],!1,null,null,null);s.default=r.exports}}]);