import{_ as n,X as a,Y as s,a4 as t}from"./framework-a5b3b151.js";const i="/assets/images/spring-security01.png",e="/assets/images/spring-security02.png",l="/assets/images/spring-security03.png",p={},o=t('<h1 id="认证授权" tabindex="-1"><a class="header-anchor" href="#认证授权" aria-hidden="true">#</a> 认证授权</h1><h2 id="完整流程" tabindex="-1"><a class="header-anchor" href="#完整流程" aria-hidden="true">#</a> 完整流程</h2><p>SpringSecurity的原理起始就是一个过滤器链，内部包含了各种功能的过滤器</p><ul><li>WebAsyncManagerIntegrationFilter</li><li>SecurityContextPersistenceFilter</li><li>HeaderWriterFilter</li><li>CsrfFilter</li><li>LogoutFilter</li><li>UsernamePasswordAuthenticationFilter，认证</li><li>DefaultLoginPageGeneratingFilter</li><li>DefaultLogoutPageGeneratingFilter</li><li>BasicAuthenticationFilter</li><li>RequestCacheAwareFilter</li><li>SecurityContextHolderAwareRequestFilter</li><li>AnonymousAuthenticationFilter</li><li>SessionManagementFilter</li><li>ExceptionTranslationFilter，异常处理</li><li>FilterSecurityInterceptor，授权</li></ul><figure><img src="'+i+'" alt="认证流程" tabindex="0" loading="lazy"><figcaption>认证流程</figcaption></figure><p>自己实现对SpringSecurity的流程做修改（登陆）</p><figure><img src="'+e+'" alt="认证流程" tabindex="0" loading="lazy"><figcaption>认证流程</figcaption></figure><p>请求其他方法（认证）</p><figure><img src="'+l+`" alt="认证流程" tabindex="0" loading="lazy"><figcaption>认证流程</figcaption></figure><div class="hint-container tip"><p class="hint-container-title">思路分析</p><p>登陆:</p><ol><li>自定义登陆接口 <ul><li>调用ProviderManager的方法进行认证</li></ul></li><li>自定义UserDetailsService <ul><li>实现中去查询数据库</li></ul></li></ol><p>校验:</p><ol><li>定义JWT认证过滤器 <ul><li>获取token</li><li>解析token，从(缓存)获取用户信息</li></ul></li></ol></div><h2 id="maven依赖" tabindex="-1"><a class="header-anchor" href="#maven依赖" aria-hidden="true">#</a> maven依赖</h2><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!-- https://mvnrepository.com/artifact/io.jsonwebtoken/jjwt --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>io.jsonwebtoken<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>jjwt<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>0.9.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,12),c=[o];function r(u,g){return a(),s("div",null,c)}const k=n(p,[["render",r],["__file","spring-security.html.vue"]]);export{k as default};
